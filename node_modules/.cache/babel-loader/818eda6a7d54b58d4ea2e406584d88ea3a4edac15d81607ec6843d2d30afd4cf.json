{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Desktop\\\\Projects\\\\Food-Donate-main\\\\src\\\\Components\\\\Header\\\\header.jsx\",\n  _s = $RefreshSig$();\nimport { getAuth, onAuthStateChanged, signOut } from 'firebase/auth';\nimport { getDatabase, ref, onValue } from 'firebase/database';\nimport React, { useState, useEffect } from 'react';\nimport { brandLogo } from \"../../assets\";\nimport MainLine from \"./mainLine\";\nimport \"../../App.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function header({\n  id\n}) {\n  _s();\n  const [user, setUser] = useState(null);\n  const [userRole, setUserRole] = useState(null);\n  useEffect(() => {\n    const auth = getAuth();\n    const unsubscribe = onAuthStateChanged(auth, user => {\n      setUser(user);\n      if (user) {\n        const db = getDatabase();\n        const userRef = ref(db, `users/${user.uid}`);\n        onValue(userRef, snapshot => {\n          const userData = snapshot.val();\n          console.log(userData);\n          console.log(\"header\");\n          if (userData && userData.first_name) {\n            setUserRole(userData.account_type);\n          }\n        });\n      }\n    });\n\n    // Return the cleanup function inside the useEffect\n    return () => unsubscribe();\n  }, []);\n  const handleLogout = async () => {\n    const auth = getAuth();\n    try {\n      await signOut(auth);\n    } catch (error) {\n      console.error('Error signing out:', error);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"section\", {\n    className: \"Navheader\",\n    id: id,\n    children: [/*#__PURE__*/_jsxDEV(\"nav\", {\n      children: [/*#__PURE__*/_jsxDEV(\"a\", {\n        href: \"/\",\n        className: \"logo-link\",\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: brandLogo,\n          alt: \"logo\",\n          style: {\n            transition: 'transform 0.3s ease-in-out'\n          },\n          className: \"logo-image\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"nav-links\",\n        id: \"navlink\",\n        children: /*#__PURE__*/_jsxDEV(\"ul\", {\n          children: [/*#__PURE__*/_jsxDEV(\"li\", {\n            children: /*#__PURE__*/_jsxDEV(\"a\", {\n              href: \"/\",\n              children: \"HOME\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 57,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            children: /*#__PURE__*/_jsxDEV(\"a\", {\n              href: \"/dashboard\",\n              children: \"DASHBOARD\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 58,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            children: /*#__PURE__*/_jsxDEV(\"a\", {\n              href: \"/about\",\n              children: \"ABOUT US\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 59,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            children: /*#__PURE__*/_jsxDEV(\"a\", {\n              href: \"/contact\",\n              children: \"CONTACT US\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 60,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 25\n          }, this), user ? /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"logInBtn\",\n            onClick: handleLogout,\n            children: \"Log Out\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 29\n          }, this) : /*#__PURE__*/_jsxDEV(\"a\", {\n            href: \"/login\",\n            className: \"logInBtn\",\n            children: \"Log In\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(MainLine, {\n      user: user,\n      userRole: userRole\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 44,\n    columnNumber: 9\n  }, this);\n}\n_s(header, \"sWuohKv116wdgELjvky7aD33Vew=\");","map":{"version":3,"names":["getAuth","onAuthStateChanged","signOut","getDatabase","ref","onValue","React","useState","useEffect","brandLogo","MainLine","jsxDEV","_jsxDEV","header","id","_s","user","setUser","userRole","setUserRole","auth","unsubscribe","db","userRef","uid","snapshot","userData","val","console","log","first_name","account_type","handleLogout","error","className","children","href","src","alt","style","transition","fileName","_jsxFileName","lineNumber","columnNumber","onClick"],"sources":["C:/Users/HP/OneDrive/Desktop/Projects/Food-Donate-main/src/Components/Header/header.jsx"],"sourcesContent":["import { getAuth, onAuthStateChanged, signOut } from 'firebase/auth';\nimport { getDatabase, ref, onValue } from 'firebase/database';\nimport React, { useState, useEffect } from 'react';\nimport { brandLogo } from \"../../assets\";\nimport MainLine from \"./mainLine\";\nimport \"../../App.css\"\nexport default function header({ id }) {\n    const [user, setUser] = useState(null);\n    const [userRole, setUserRole] = useState(null);\n    useEffect(() => {\n        const auth = getAuth();\n        const unsubscribe = onAuthStateChanged(auth, (user) => {\n            setUser(user);\n            if (user) {\n                const db = getDatabase();\n                const userRef = ref(db, `users/${user.uid}`);\n                onValue(userRef, (snapshot) => {\n                    const userData = snapshot.val();\n\n                    console.log(userData);\n                    console.log(\"header\");\n                    if (userData && userData.first_name) {\n                        setUserRole(userData.account_type);\n                    }\n                });\n            }\n        });\n\n        // Return the cleanup function inside the useEffect\n        return () => unsubscribe();\n    }, []);\n\n\n    const handleLogout = async () => {\n        const auth = getAuth();\n        try {\n            await signOut(auth);\n        } catch (error) {\n            console.error('Error signing out:', error);\n        }\n    };\n\n    return (\n        <section className=\"Navheader\" id={id}>\n            <nav>\n                <a href=\"/\" className=\"logo-link\">\n                    <img\n                        src={brandLogo}\n                        alt=\"logo\"\n                        style={{ transition: 'transform 0.3s ease-in-out' }}\n                        className=\"logo-image\"\n                    />\n                </a>\n\n                <div className=\"nav-links\" id=\"navlink\">\n                    <ul>\n                        <li><a href=\"/\">HOME</a></li>\n                        <li><a href=\"/dashboard\">DASHBOARD</a></li>\n                        <li><a href=\"/about\">ABOUT US</a></li>\n                        <li><a href=\"/contact\">CONTACT US</a></li>\n                        {user ? (\n                            <button className=\"logInBtn\" onClick={handleLogout}>Log Out</button>\n                        ) : (\n                            <a href=\"/login\" className=\"logInBtn\">Log In</a>\n                        )}\n                    </ul>\n                </div>\n            </nav>\n            <MainLine user={user} userRole={userRole} />\n        </section>\n    )\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}